{"version":3,"file":"Popconfirm.js","sources":["../../../components/popconfirm/Popconfirm.tsx"],"sourcesContent":["import React, { forwardRef } from 'react';\nimport classNames from 'classnames';\nimport Popup, { PopupRef } from '../popup';\nimport useConfig from '../hooks/useConfig';\nimport useControlled from '../hooks/useControlled';\nimport { useLocaleReceiver } from '../locale/LocalReceiver';\nimport { TdPopconfirmProps, PopconfirmVisibleChangeContext } from './type';\nimport Popcontent from './Popcontent';\nimport { popconfirmDefaultProps } from './defaultProps';\nimport useDefaultProps from '../hooks/useDefaultProps';\n\nexport type PopconfirmProps = TdPopconfirmProps;\n\nconst Popconfirm = forwardRef<PopupRef, TdPopconfirmProps>((originalProps, ref) => {\n  const { classPrefix } = useConfig();\n  const [local, t] = useLocaleReceiver('popconfirm');\n\n  const cancelContent = typeof local.cancel === 'string' ? local.cancel : local.cancel.content;\n  const confirmContent = typeof local.confirm === 'string' ? local.confirm : local.confirm.content;\n\n  const props = useDefaultProps<TdPopconfirmProps>(originalProps, popconfirmDefaultProps);\n\n  const { cancelBtn = t(cancelContent), confirmBtn = t(confirmContent) } = props;\n  const [visible, setVisible] = useControlled(props, 'visible', props.onVisibleChange);\n\n  return (\n    <Popup\n      ref={ref}\n      {...props}\n      visible={visible}\n      trigger=\"click\"\n      onVisibleChange={(visible, context) => setVisible(visible, context as PopconfirmVisibleChangeContext)}\n      overlayClassName={classNames(`${classPrefix}-popconfirm`)}\n      content={\n        <Popcontent\n          cancelBtn={cancelBtn}\n          confirmBtn={confirmBtn}\n          {...props}\n          onClose={(context: PopconfirmVisibleChangeContext) => setVisible(false, context)}\n        />\n      }\n      {...props.popupProps}\n    />\n  );\n});\n\nPopconfirm.displayName = 'Popconfirm';\n\nexport default Popconfirm;\n"],"names":["Popconfirm","forwardRef","originalProps","ref","_useConfig","useConfig","classPrefix","_useLocaleReceiver","useLocaleReceiver","_useLocaleReceiver2","_slicedToArray","local","t","cancelContent","cancel","content","confirmContent","confirm","props","useDefaultProps","popconfirmDefaultProps","_props$cancelBtn","cancelBtn","confirmBtn","_props$confirmBtn","_useControlled","useControlled","onVisibleChange","_useControlled2","visible","setVisible","React","createElement","Popup","_objectSpread","trigger","context","overlayClassName","classNames","concat","Popcontent","onClose","popupProps","displayName"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAaMA,IAAAA,UAAa,gBAAAC,UAAA,CAAwC,UAACC,aAAA,EAAeC,GAAQ,EAAA;AAC3E,EAAA,IAAAC,UAAA,GAAkBC,SAAU,EAAA;IAA1BC,WAAY,GAAAF,UAAA,CAAZE,WAAY,CAAA;AACpB,EAAA,IAAAC,kBAAA,GAAmBC,kBAAkB,YAAY,CAAA;IAAAC,mBAAA,GAAAC,cAAA,CAAAH,kBAAA,EAAA,CAAA,CAAA;AAA1CI,IAAAA,KAAA,GAAAF,mBAAA,CAAA,CAAA,CAAA;AAAOG,IAAAA,CAAC,GAAAH,mBAAA,CAAA,CAAA,CAAA,CAAA;AAET,EAAA,IAAAI,aAAA,GAAgB,OAAOF,KAAM,CAAAG,MAAA,KAAW,WAAWH,KAAM,CAAAG,MAAA,GAASH,MAAMG,MAAO,CAAAC,OAAA,CAAA;AAC/E,EAAA,IAAAC,cAAA,GAAiB,OAAOL,KAAM,CAAAM,OAAA,KAAY,WAAWN,KAAM,CAAAM,OAAA,GAAUN,MAAMM,OAAQ,CAAAF,OAAA,CAAA;AAEnF,EAAA,IAAAG,KAAA,GAAQC,eAAmC,CAAAjB,aAAA,EAAekB,sBAAsB,CAAA,CAAA;AAEhF,EAAA,IAAAC,gBAAA,GAAmEH,KAAA,CAAjEI;IAAAA,iCAAYV,KAAAA,CAAAA,GAAAA,CAAE,CAAAC,aAAa;wBAAsCK,KAAA,CAAnCK,UAAa;IAAbA,UAAa,GAAAC,iBAAA,KAAAZ,KAAAA,CAAAA,GAAAA,CAAA,CAAEI,cAAc,CAAA,GAAAQ,iBAAA,CAAA;EAC7D,IAAAC,cAAA,GAAwBC,cAAcR,KAAO,EAAA,SAAA,EAAWA,MAAMS,eAAe,CAAA;IAAAC,eAAA,GAAAlB,cAAA,CAAAe,cAAA,EAAA,CAAA,CAAA;AAA5EI,IAAAA;AAASC,IAAAA,UAAU,GAAAF,eAAA,CAAA,CAAA,CAAA,CAAA;EAE1B,sBACGG,KAAA,CAAAC,aAAA,CAAAC,KAAA,EAAAC,aAAA,CAAAA,aAAA,CAAA;AACC/B,IAAAA,GAAA,EAAAA,GAAAA;AAAA,GAAA,EACIe,KAAA,CAAA,EAAA,EAAA,EAAA;AACJW,IAAAA,OAAA,EAAAA,OAAA;AACAM,IAAAA,OAAQ,EAAA,OAAA;AACRR,IAAAA,iBAAiB,SAAjBA,gBAAkBE,QAAAA,EAASO,OAAY,EAAA;AAAA,MAAA,OAAAN,UAAA,CAAWD,UAASO,OAAyC,CAAA,CAAA;AAAA,KAAA;AACpGC,IAAAA,gBAAA,EAAkBC,UAAW,CAAA,EAAA,CAAAC,MAAA,CAAGjC,WAAwB,gBAAA,CAAA;IACxDS,wBACGgB,KAAA,CAAAC,aAAA,CAAAQ,UAAA,EAAAN,aAAA,CAAAA,aAAA,CAAA;AACCZ,MAAAA,SAAA,EAAAA,SAAA;AACAC,MAAAA,UAAA,EAAAA,UAAAA;AAAA,KAAA,EACIL,KAAA,CAAA,EAAA,EAAA,EAAA;AACJuB,MAAAA,OAAS,EAAA,SAATA,OAASA,CAACL,OAA4C,EAAA;AAAA,QAAA,OAAAN,UAAA,CAAW,OAAOM,OAAO,CAAA,CAAA;AAAA,OAAA;KACjF,CAAA,CAAA;AAAA,GAAA,EAEElB,KAAM,CAAAwB,UAAA,CACZ,CAAA,CAAA;AAEJ,CAAC,EAAA;AAED1C,UAAA,CAAW2C,WAAc,GAAA,YAAA;;;;"}