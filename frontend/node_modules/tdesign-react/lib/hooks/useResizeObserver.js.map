{"version":3,"file":"useResizeObserver.js","sources":["../../../components/hooks/useResizeObserver.ts"],"sourcesContent":["import useIsomorphicLayoutEffect from './useLayoutEffect';\nimport { canUseDocument } from '../_util/dom';\nimport useLatest from './useLatest';\n\nexport default function useResizeObserver(\n  container: React.MutableRefObject<HTMLElement | null>,\n  callback: (data: ResizeObserverEntry[]) => void,\n  enabled = true,\n) {\n  const callbackRef = useLatest(callback);\n\n  useIsomorphicLayoutEffect(() => {\n    const isSupport = canUseDocument && window.ResizeObserver;\n    const element = container.current;\n    let observer: ResizeObserver = null;\n\n    if (!enabled) return;\n\n    if (isSupport && element) {\n      const resizeCallback: ResizeObserverCallback = (entries) => {\n        callbackRef.current(entries);\n      };\n      observer = new ResizeObserver(resizeCallback);\n      observer.observe(element);\n    }\n\n    return () => {\n      if (observer && element) {\n        observer.unobserve(element);\n        observer.disconnect?.();\n        observer = null;\n      }\n    };\n    // eslint-disable-next-line\n  }, [container, enabled]);\n}\n"],"names":["useResizeObserver","container","callback","enabled","arguments","length","undefined","callbackRef","useLatest","useIsomorphicLayoutEffect","isSupport","canUseDocument","window","ResizeObserver","element","current","observer","resizeCallback","entries","observe","_observer$disconnect","_observer","unobserve","disconnect","call"],"mappings":";;;;;;;;;;;;AAIA,SAAwBA,iBACtBA,CAAAC,SAAA,EACAC,QACA,EACA;AAAA,EAAA,IADAC,OAAA,GAAAC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAU,IACV,CAAA;AACM,EAAA,IAAAG,WAAA,GAAcC,UAAUN,QAAQ,CAAA,CAAA;AAEtCO,EAAAA,yBAAA,CAA0B,YAAM;AACxB,IAAA,IAAAC,SAAA,GAAYC,kBAAkBC,MAAO,CAAAC,cAAA,CAAA;AAC3C,IAAA,IAAMC,UAAUb,SAAU,CAAAc,OAAA,CAAA;IAC1B,IAAIC,QAA2B,GAAA,IAAA,CAAA;IAE/B,IAAI,CAACb,OAAA,EAAS,OAAA;IAEd,IAAIO,aAAaI,OAAS,EAAA;AAClB,MAAA,IAAAG,cAAA,GAAyC,SAAzCA,cAAAA,CAA0CC,OAAY,EAAA;AAC1DX,QAAAA,WAAA,CAAYQ,QAAQG,OAAO,CAAA,CAAA;OAC7B,CAAA;AACWF,MAAAA,QAAA,GAAA,IAAIH,eAAeI,cAAc,CAAA,CAAA;AAC5CD,MAAAA,QAAA,CAASG,QAAQL,OAAO,CAAA,CAAA;AAC1B,KAAA;AAEA,IAAA,OAAO,YAAM;MACX,IAAIE,YAAYF,OAAS,EAAA;QAAA,IAAAM,oBAAA,EAAAC,SAAA,CAAA;AACvBL,QAAAA,QAAA,CAASM,UAAUR,OAAO,CAAA,CAAA;AAC1B,QAAA,CAAAM,oBAAA,GAAA,CAAAC,SAAA,GAAAL,QAAA,EAASO,UAAa,MAAAH,IAAAA,IAAAA,oBAAA,eAAtBA,oBAAA,CAAAI,IAAA,CAAAH,SAAsB,CAAA,CAAA;AACXL,QAAAA,QAAA,GAAA,IAAA,CAAA;AACb,OAAA;KACF,CAAA;AAEF,GAAG,EAAA,CAACf,SAAW,EAAAE,OAAO,CAAC,CAAA,CAAA;AACzB;;;;"}