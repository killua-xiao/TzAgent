{"version":3,"file":"useSetState.js","sources":["../../../components/hooks/useSetState.ts"],"sourcesContent":["import { useCallback, useState } from 'react';\n\nconst isFunction = (arg: unknown) => typeof arg === 'function';\n\n/**\n * 管理 object 类型 state 的 Hooks，用法与 class 组件的 this.setState 基本一致。\n * @param initialState\n * @returns [state, setMergeState]\n */\nconst useSetState = <T extends object>(\n  initialState: T = {} as T,\n): [T, (patch: Partial<T> | ((prevState: T) => Partial<T>)) => void] => {\n  const [state, setState] = useState<T>(initialState);\n\n  const setMergeState = useCallback((patch) => {\n    setState((prevState) => ({ ...prevState, ...(isFunction(patch) ? patch(prevState) : patch) }));\n  }, []);\n\n  return [state, setMergeState];\n};\n\nexport default useSetState;\n"],"names":["isFunction","arg","useSetState","initialState","arguments","length","undefined","_useState","useState","_useState2","_slicedToArray","state","setState","setMergeState","useCallback","patch","prevState","_objectSpread"],"mappings":";;;;;;;;;;;;;;AAEA,IAAMA,UAAa,GAAA,SAAbA,UAAaA,CAACC,GAAiB,EAAA;EAAA,OAAA,OAAOA,GAAQ,KAAA,UAAA,CAAA;AAAA,CAAA,CAAA;AAOpD,IAAMC,WAAc,GAAA,SAAdA,WAAcA,GAEoD;AAAA,EAAA,IADtEC,YAAkB,GAAAC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAA,EACoD,CAAA;AACtE,EAAA,IAAAG,SAAA,GAA0BC,SAAYL,YAAY,CAAA;IAAAM,UAAA,GAAAC,cAAA,CAAAH,SAAA,EAAA,CAAA,CAAA;AAA3CI,IAAAA,KAAA,GAAAF,UAAA,CAAA,CAAA,CAAA;AAAOG,IAAAA,QAAQ,GAAAH,UAAA,CAAA,CAAA,CAAA,CAAA;AAEhB,EAAA,IAAAI,aAAA,GAAgBC,WAAY,CAAA,UAACC,KAAU,EAAA;IAC3CH,QAAA,CAAS,UAACI,SAAA,EAAA;AAAA,MAAA,OAAAC,aAAA,CAAAA,aAAA,CAAoBD,EAAAA,EAAAA,SAAW,GAAIhB,UAAW,CAAAe,KAAK,CAAI,GAAAA,KAAA,CAAMC,SAAS,CAAA,GAAID;KAAS,CAAA,CAAA;GAC/F,EAAG,EAAE,CAAA,CAAA;AAEE,EAAA,OAAA,CAACJ,OAAOE,aAAa,CAAA,CAAA;AAC9B;;;;"}