{"version":3,"file":"config.js","sources":["../../../components/message/config.ts"],"sourcesContent":["import { MessageOptions } from './type';\nimport { messageDefaultProps } from './defaultProps';\n\n/**\n * @name: globalConfig\n * @description: message 组件全局的默认配置\n * */\nexport const globalConfig = {\n  top: 32,\n};\n\n// 全局默认配置，zIndex 为 5000，默认关闭时间 3000ms\nlet messageDefaultConfig: MessageOptions = {\n  ...messageDefaultProps,\n  duration: 3000,\n  placement: 'top',\n  zIndex: 5000,\n};\n\n/**\n * @name: getMessageConfig\n * @description: 组合 currentOptions 和 defaultConfig 拼装成最终生效的 options\n * 保证所有的配置出口都通过该函数，当后续封装 globalConfig 时从此处添加即可全局生效\n * @param: options MessageOptions\n * @return: MessageOptions\n * @todo: options 合法性检测\n * */\nexport const getMessageConfig = (options: MessageOptions): MessageOptions => {\n  const currentOptions = { ...options };\n\n  // :todo 判断传入参数的合法性，本期先过滤掉明显非法的数据，比如 undefined\n  for (const i in currentOptions) {\n    if (typeof currentOptions[i] === 'undefined') {\n      delete currentOptions[i];\n    }\n  }\n\n  // duration 判断\n  if (typeof currentOptions.duration !== 'number' || currentOptions.duration < 0) {\n    delete currentOptions.duration;\n  }\n\n  return {\n    ...messageDefaultConfig,\n    ...currentOptions,\n  };\n};\n\n/**\n * @name: setGlobalConfig\n * @description: 设置全局配置\n * */\nexport const setGlobalConfig = (options: MessageOptions) => {\n  messageDefaultConfig = {\n    ...getMessageConfig(options),\n  };\n};\n\n/**\n * @name: getMessageDefaultConfig\n * @description: 获取默认的消息配置，不允许更改\n * @return: MessageOptions\n * */\nexport const getMessageDefaultConfig = (): MessageOptions => ({ ...messageDefaultConfig });\n"],"names":["globalConfig","top","messageDefaultConfig","_objectSpread","messageDefaultProps","duration","placement","zIndex","getMessageConfig","options","currentOptions","i","setGlobalConfig","getMessageDefaultConfig"],"mappings":";;;;;;;;;;;;AAOO,IAAMA,YAAe,GAAA;AAC1BC,EAAAA,GAAK,EAAA,EAAA;AACP,EAAA;AAGA,IAAIC,oBAAuC,GAAAC,aAAA,CAAAA,aAAA,KACtCC,mBAAA,CAAA,EAAA,EAAA,EAAA;AACHC,EAAAA,QAAU,EAAA,GAAA;AACVC,EAAAA,SAAW,EAAA,KAAA;AACXC,EAAAA,MAAQ,EAAA,GAAA;AAAA,CACV,CAAA,CAAA;IAUaC,gBAAA,GAAmB,SAAnBA,gBAAAA,CAAoBC,OAA4C,EAAA;AACrE,EAAA,IAAAC,cAAA,GAAAP,aAAA,CAAA,EAAA,EAAsBM,OAAQ,CAAA,CAAA;AAGpC,EAAA,KAAA,IAAWE,KAAKD,cAAgB,EAAA;AAC1B,IAAA,IAAA,OAAOA,cAAe,CAAAC,CAAA,CAAA,KAAO,WAAa,EAAA;MAC5C,OAAOD,cAAe,CAAAC,CAAA,CAAA,CAAA;AACxB,KAAA;AACF,GAAA;AAGA,EAAA,IAAI,OAAOD,cAAe,CAAAL,QAAA,KAAa,QAAY,IAAAK,cAAA,CAAeL,WAAW,CAAG,EAAA;IAC9E,OAAOK,cAAe,CAAAL,QAAA,CAAA;AACxB,GAAA;AAEO,EAAA,OAAAF,aAAA,CAAAA,aAAA,CACFD,EAAAA,EAAAA,oBAAA,GACAQ,cAAA,CAAA,CAAA;AAEP,EAAA;IAMaE,eAAA,GAAkB,SAAlBA,eAAAA,CAAmBH,OAA4B,EAAA;AACnCP,EAAAA,oBAAA,GAAAC,aAAA,CAAA,EAAA,EAClBK,iBAAiBC,OAAO,CAAA,CAC7B,CAAA;AACF,EAAA;AAOaI,IAAAA,uBAA0B,GAAA,SAA1BA,uBAA0BA,GAAA;EAAA,OAAAV,aAAA,KAA4BD,oBAAqB,CAAA,CAAA;AAAA;;;;"}