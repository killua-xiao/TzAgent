{"version":3,"file":"TimeRangePicker.js","sources":["../../../components/time-picker/TimeRangePicker.tsx"],"sourcesContent":["import React, { FC, useState, useEffect } from 'react';\nimport classNames from 'classnames';\nimport dayjs from 'dayjs';\n\nimport { TimeIcon as TdTimeIcon } from 'tdesign-icons-react';\nimport { isArray } from 'lodash-es';\nimport { formatInputValue, validateInputValue } from '@tdesign/common-js/time-picker/utils';\nimport { TIME_PICKER_EMPTY } from '@tdesign/common-js/time-picker/const';\nimport noop from '../_util/noop';\nimport useControlled from '../hooks/useControlled';\nimport useConfig from '../hooks/useConfig';\nimport useGlobalIcon from '../hooks/useGlobalIcon';\nimport { RangeInputPopup } from '../range-input';\nimport type { RangeInputPopupProps, RangeInputPosition } from '../range-input';\nimport TimePickerPanel from './panel/TimePickerPanel';\n\nimport { useTimePickerTextConfig } from './hooks/useTimePickerTextConfig';\n\nimport { TdTimeRangePickerProps, TimeRangeValue, TimeRangePickerPartial } from './type';\nimport { StyledProps } from '../common';\nimport { timeRangePickerDefaultProps } from './defaultProps';\nimport useDefaultProps from '../hooks/useDefaultProps';\n\nexport interface TimeRangePickerProps extends TdTimeRangePickerProps, StyledProps {}\n\nfunction handlePositionTrans(income: RangeInputPosition): TimeRangePickerPartial {\n  return income === 'first' ? 'start' : 'end';\n}\n\nconst TimeRangePicker: FC<TimeRangePickerProps> = (originalProps) => {\n  const props = useDefaultProps<TimeRangePickerProps>(originalProps, timeRangePickerDefaultProps);\n  const TEXT_CONFIG = useTimePickerTextConfig();\n\n  const {\n    allowInput,\n    borderless,\n    clearable,\n    disabled,\n    format,\n    hideDisabledTime,\n    placeholder = TEXT_CONFIG.rangePlaceholder,\n    size,\n    steps,\n    disableTime,\n    onBlur = noop,\n    onFocus = noop,\n    onInput = noop,\n    style,\n    className,\n    presets,\n    label,\n  } = props;\n\n  const [value, onChange] = useControlled(props, 'value', props.onChange);\n\n  const { classPrefix } = useConfig();\n  const { TimeIcon } = useGlobalIcon({\n    TimeIcon: TdTimeIcon,\n  });\n  const [isPanelShowed, setPanelShow] = useState(false);\n  const [currentPanelIdx, setCurrentPanelIdx] = useState(undefined);\n  const [currentValue, setCurrentValue] = useState(['', '']);\n\n  const name = `${classPrefix}-time-picker`;\n\n  const inputClasses = classNames(`${name}__group`, {\n    [`${classPrefix}-is-focused`]: isPanelShowed,\n  });\n\n  const handleShowPopup: RangeInputPopupProps['onPopupVisibleChange'] = (visible, { trigger }) => {\n    if (trigger === 'trigger-element-click') {\n      setPanelShow(true);\n      return;\n    }\n    setPanelShow(visible);\n  };\n\n  function handlePickerValue(pickValue: string | string[], currentValue: string[]) {\n    if (Array.isArray(pickValue)) return pickValue;\n    return currentPanelIdx === 0\n      ? [pickValue, currentValue[1] ?? pickValue]\n      : [currentValue[0] ?? pickValue, pickValue];\n  }\n\n  const handleOnPick = (pickValue: string[], e: { e: React.MouseEvent }) => {\n    let context;\n    if (isArray(pickValue)) {\n      context = { e };\n    } else if (currentPanelIdx.value === 0) {\n      context = { e, position: 'start' as TimeRangePickerPartial };\n    } else {\n      context = { e, position: 'end' as TimeRangePickerPartial };\n    }\n    props.onPick?.(pickValue, context);\n  };\n\n  const handleClear = (context: { e: React.MouseEvent }) => {\n    const { e } = context;\n    e.stopPropagation();\n    onChange(undefined);\n    setCurrentValue(TIME_PICKER_EMPTY);\n  };\n\n  const handleClick = ({ position }: { position: 'first' | 'second' }) => {\n    setCurrentPanelIdx(position === 'first' ? 0 : 1);\n  };\n\n  const handleTimeChange = (newValue: string | string[], context: { e: React.MouseEvent }) => {\n    const nextCurrentValue = handlePickerValue(newValue, currentValue);\n    setCurrentValue(nextCurrentValue);\n    handleOnPick(nextCurrentValue, context);\n  };\n\n  const autoSwapTime = (valueBeforeConfirm: Array<string>) => {\n    const [startTime, endTime] = valueBeforeConfirm;\n    const startDayjs = dayjs(startTime, props.format);\n    const endDayjs = dayjs(endTime, props.format);\n\n    if (startDayjs.isAfter(endDayjs, 'second')) return [endTime, startTime];\n\n    return [startTime, endTime];\n  };\n\n  const handleInputBlur = (value: TimeRangeValue, { e }: { e: React.FocusEvent<HTMLInputElement> }) => {\n    if (allowInput) {\n      const isValidTime = validateInputValue(currentValue[currentPanelIdx], format);\n      if (isValidTime) {\n        const formattedVal = formatInputValue(currentValue[currentPanelIdx], format);\n        currentPanelIdx === 0\n          ? setCurrentValue([formattedVal, currentValue[1] ?? formattedVal])\n          : setCurrentValue([currentValue[0] ?? formattedVal, formattedVal]);\n      }\n    }\n    onBlur({ value, e });\n  };\n\n  const handleInputChange = (\n    inputVal: TimeRangeValue,\n    { e, position }: { e: React.FocusEvent<HTMLInputElement>; position: RangeInputPosition },\n  ) => {\n    setCurrentValue(inputVal);\n    onInput({ value, e, position: handlePositionTrans(position) });\n  };\n\n  const handleClickConfirm = () => {\n    const isValidTime = !currentValue.find((v) => !validateInputValue(v, format));\n    if (isValidTime) onChange(props.autoSwap ? autoSwapTime(currentValue) : currentValue);\n    setPanelShow(false);\n  };\n\n  const handleFocus = (\n    value: TimeRangeValue,\n    { e, position }: { e: React.FocusEvent<HTMLInputElement>; position: RangeInputPosition },\n  ) => {\n    onFocus({ value, e, position: handlePositionTrans(position) });\n  };\n\n  useEffect(() => {\n    // to fix the effect trigger before input blur\n    setCurrentValue(isPanelShowed ? value ?? TIME_PICKER_EMPTY : TIME_PICKER_EMPTY);\n    if (!isPanelShowed) setCurrentPanelIdx(undefined);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isPanelShowed]);\n\n  return (\n    <div className={classNames(name, className)} style={style}>\n      <RangeInputPopup\n        style={style}\n        disabled={disabled}\n        popupVisible={isPanelShowed}\n        onPopupVisibleChange={handleShowPopup}\n        popupProps={{\n          overlayInnerStyle: {\n            width: 'auto',\n            padding: 0,\n          },\n          ...props.popupProps,\n        }}\n        onInputChange={handleInputChange}\n        inputValue={isPanelShowed ? currentValue : value ?? TIME_PICKER_EMPTY}\n        rangeInputProps={{\n          size,\n          borderless,\n          clearable,\n          className: inputClasses,\n          value: isPanelShowed ? currentValue : value ?? undefined,\n          placeholder,\n          suffixIcon: <TimeIcon />,\n          onClear: handleClear,\n          onClick: handleClick,\n          onFocus: handleFocus,\n          onBlur: handleInputBlur,\n          readonly: !allowInput,\n          activeIndex: currentPanelIdx,\n          label,\n          ...props.rangeInputProps,\n        }}\n        tips={props.tips}\n        status={props.status}\n        panel={\n          <TimePickerPanel\n            steps={steps}\n            format={format}\n            disableTime={disableTime}\n            isShowPanel={isPanelShowed}\n            hideDisabledTime={hideDisabledTime}\n            isFooterDisplay={true}\n            value={currentValue[currentPanelIdx || 0]}\n            onChange={handleTimeChange}\n            handleConfirmClick={handleClickConfirm}\n            position={currentPanelIdx === 0 ? 'start' : 'end'}\n            activeIndex={currentPanelIdx}\n            presets={presets}\n          />\n        }\n      />\n    </div>\n  );\n};\n\nTimeRangePicker.displayName = 'TimeRangePicker';\n\nexport default TimeRangePicker;\n"],"names":["handlePositionTrans","income","TimeRangePicker","originalProps","props","useDefaultProps","timeRangePickerDefaultProps","TEXT_CONFIG","useTimePickerTextConfig","allowInput","borderless","clearable","disabled","format","hideDisabledTime","_props$placeholder","placeholder","rangePlaceholder","size","steps","disableTime","_props$onBlur","onBlur","noop","_props$onFocus","onFocus","_props$onInput","onInput","style","className","presets","label","_useControlled","useControlled","onChange","_useControlled2","_slicedToArray","value","_useConfig","useConfig","classPrefix","_useGlobalIcon","useGlobalIcon","TimeIcon","TdTimeIcon","_useState","useState","_useState2","isPanelShowed","setPanelShow","_useState3","_useState4","currentPanelIdx","setCurrentPanelIdx","_useState5","_useState6","currentValue","setCurrentValue","name","inputClasses","classNames","concat","_defineProperty","handleShowPopup","visible","_ref","trigger","handlePickerValue","pickValue","_currentValue2$","_currentValue2$2","Array","isArray","handleOnPick","e","_props$onPick","context","position","onPick","call","handleClear","stopPropagation","TIME_PICKER_EMPTY","handleClick","_ref2","handleTimeChange","newValue","nextCurrentValue","autoSwapTime","valueBeforeConfirm","_valueBeforeConfirm","startTime","endTime","startDayjs","dayjs","endDayjs","isAfter","handleInputBlur","_ref3","isValidTime","validateInputValue","_currentValue$","_currentValue$2","formattedVal","formatInputValue","handleInputChange","inputVal","_ref4","handleClickConfirm","find","v","autoSwap","handleFocus","_ref5","useEffect","React","createElement","RangeInputPopup","popupVisible","onPopupVisibleChange","popupProps","_objectSpread","overlayInnerStyle","width","padding","onInputChange","inputValue","rangeInputProps","suffixIcon","onClear","onClick","readonly","activeIndex","tips","status","panel","TimePickerPanel","isShowPanel","isFooterDisplay","handleConfirmClick","displayName"],"mappings":"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"}