{"version":3,"file":"createHookContext.js","sources":["../../../components/_util/createHookContext.tsx"],"sourcesContent":["import React, { createContext, PropsWithChildren, useContext } from 'react';\n\n/**\n * 基于 Hook 创建一个 Context\n * @param hook\n * @returns\n */\nexport function createHookContext<T, P>(hook: (value: P) => T) {\n  const Context = createContext<T>(null);\n\n  function Provider(\n    props: PropsWithChildren<{\n      value: P;\n    }>,\n  ) {\n    return <Context.Provider value={hook(props.value)}>{props.children}</Context.Provider>;\n  }\n\n  function use() {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    return useContext(Context);\n  }\n\n  return {\n    Provider,\n    use,\n  };\n}\n"],"names":["createHookContext","hook","Context","createContext","Provider","props","React","createElement","value","children","use","useContext"],"mappings":";;;;;;;;AAOO,SAASA,kBAAwBC,IAAuB,EAAA;AACvD,EAAA,IAAAC,OAAA,gBAAUC,cAAiB,IAAI,CAAA,CAAA;EAErC,SAASC,SACPC,KAGA,EAAA;IACO,sBAAAC,KAAA,CAAAC,aAAA,CAACL,QAAQE,QAAR,EAAA;AAAiBI,MAAAA,KAAA,EAAOP,IAAK,CAAAI,KAAA,CAAMG,KAAK,CAAA;AAAA,KAAA,EAAIH,MAAMI,QAAS,CAAA,CAAA;AACrE,GAAA;EAEA,SAASC,GAAMA,GAAA;IAEb,OAAOC,WAAWT,OAAO,CAAA,CAAA;AAC3B,GAAA;EAEO,OAAA;AACLE,IAAAA,QAAA,EAAAA,QAAA;AACAM,IAAAA,GAAA,EAAAA,GAAAA;GACF,CAAA;AACF;;;;"}