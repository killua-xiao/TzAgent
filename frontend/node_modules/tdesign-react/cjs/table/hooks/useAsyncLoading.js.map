{"version":3,"file":"useAsyncLoading.js","sources":["../../../../components/table/hooks/useAsyncLoading.tsx"],"sourcesContent":["import React from 'react';\nimport { isString } from 'lodash-es';\nimport classNames from 'classnames';\nimport { TdPrimaryTableProps } from '../type';\nimport Loading from '../../loading';\nimport useClassName from './useClassName';\nimport { useLocaleReceiver } from '../../locale/LocalReceiver';\n\nexport default function useAsyncLoading(props: TdPrimaryTableProps) {\n  const [local] = useLocaleReceiver('table');\n  const { isLoadingClass, isLoadMoreClass, asyncLoadingClass } = useClassName();\n\n  const classes = [\n    asyncLoadingClass,\n    {\n      [isLoadingClass]: props.asyncLoading === 'loading',\n      [isLoadMoreClass]: props.asyncLoading === 'load-more',\n    },\n  ];\n\n  function onLoadClick() {\n    if (typeof props.asyncLoading !== 'string') return;\n    const status = props.asyncLoading === 'loading' ? 'loading' : 'load-more';\n    props.onAsyncLoadingClick?.({ status });\n  }\n\n  function renderAsyncLoading() {\n    const asyncLoadingNode = props.asyncLoading;\n    if (isString(asyncLoadingNode)) {\n      const { asyncLoading } = props;\n      const loadingText = {\n        'load-more': local.loadingMoreText,\n        loading: local.loadingText,\n      }[String(asyncLoading)];\n      return (\n        <div className={classNames(classes)} onClick={onLoadClick}>\n          {<Loading loading={true} size=\"small\" text={loadingText} indicator={asyncLoading === 'loading'} />}\n        </div>\n      );\n    }\n    if (asyncLoadingNode) {\n      return (\n        <div className={classNames(classes)} onClick={onLoadClick}>\n          {asyncLoadingNode}\n        </div>\n      );\n    }\n    return null;\n  }\n  return {\n    renderAsyncLoading,\n  };\n}\n"],"names":["useAsyncLoading","props","_useLocaleReceiver","useLocaleReceiver","_useLocaleReceiver2","_slicedToArray","local","_useClassName","useClassName","isLoadingClass","isLoadMoreClass","asyncLoadingClass","classes","_defineProperty","asyncLoading","onLoadClick","_props$onAsyncLoading","status","onAsyncLoadingClick","call","renderAsyncLoading","asyncLoadingNode","isString","loadingText","loadingMoreText","loading","String","React","createElement","className","classNames","onClick","Loading","size","text","indicator"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQA,SAAwBA,gBAAgBC,KAA4B,EAAA;AAClE,EAAA,IAAAC,kBAAA,GAAgBC,sCAAA,CAAkB,OAAO,CAAA;IAAAC,mBAAA,GAAAC,4BAAA,CAAAH,kBAAA,EAAA,CAAA,CAAA;AAAlCI,IAAAA,KAAK,GAAAF,mBAAA,CAAA,CAAA,CAAA,CAAA;AACZ,EAAA,IAAAG,aAAA,GAA+DC,mCAAa,EAAA;IAApEC,cAAA,GAAAF,aAAA,CAAAE,cAAA;IAAgBC,eAAiB,GAAAH,aAAA,CAAjBG,eAAiB;IAAAC,iBAAA,GAAAJ,aAAA,CAAAI,iBAAA,CAAA;EAEzC,IAAMC,OAAU,GAAA,CACdD,iBAAA,EAAAE,8BAAA,CAAAA,8BAAA,CAEGJ,EAAAA,EAAAA,cAAiB,EAAAR,KAAA,CAAMa,YAAiB,KAAA,SAAA,CAAA,EACxCJ,eAAkB,EAAAT,KAAA,CAAMa,YAAiB,KAAA,WAAA,CAE9C,CAAA,CAAA;EAEA,SAASC,WAAcA,GAAA;AAAA,IAAA,IAAAC,qBAAA,CAAA;AACjB,IAAA,IAAA,OAAOf,MAAMa,YAAiB,KAAA,QAAA,EAAU,OAAA;IAC5C,IAAMG,MAAS,GAAAhB,KAAA,CAAMa,YAAiB,KAAA,SAAA,GAAY,SAAY,GAAA,WAAA,CAAA;AACxD,IAAA,CAAAE,qBAAA,GAAAf,KAAA,CAAAiB,mBAAA,MAAA,IAAA,IAAAF,qBAAA,KAAA,KAAA,CAAA,IAAAA,qBAAA,CAAAG,IAAA,CAAAlB,KAAA,EAAsB;AAAEgB,MAAAA,MAAA,EAAAA,MAAAA;AAAO,KAAC,CAAA,CAAA;AACxC,GAAA;EAEA,SAASG,kBAAqBA,GAAA;AAC5B,IAAA,IAAMC,mBAAmBpB,KAAM,CAAAa,YAAA,CAAA;AAC3B,IAAA,IAAAQ,iBAAA,CAASD,gBAAgB,CAAG,EAAA;AACxB,MAAA,IAAEP,eAAiBb,KAAA,CAAjBa;AACR,MAAA,IAAMS,WAAc,GAAA;QAClB,aAAajB,KAAM,CAAAkB,eAAA;QACnBC,SAASnB,KAAM,CAAAiB,WAAAA;AACjB,OAAA,CAAEG,OAAOZ,YAAY,CAAA,CAAA,CAAA;AACrB,MAAA,sBACGa,yBAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;AAAIC,QAAAA,SAAA,EAAWC,+BAAWlB,OAAO,CAAA;AAAGmB,QAAAA,OAAS,EAAAhB,WAAAA;AAAA,OAAA,iBAC1CY,yBAAA,CAAAC,aAAA,CAAAI,qBAAA,EAAA;AAAQP,QAAAA,OAAS,EAAA,IAAA;AAAMQ,QAAAA,IAAK,EAAA,OAAA;AAAQC,QAAAA,IAAM,EAAAX,WAAA;QAAaY,WAAWrB,YAAiB,KAAA,SAAA;AAAA,OAAW,CAClG,CAAA,CAAA;AAEJ,KAAA;AACA,IAAA,IAAIO,gBAAkB,EAAA;AACpB,MAAA,sBACGM,yBAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;AAAIC,QAAAA,SAAA,EAAWC,+BAAWlB,OAAO,CAAA;AAAGmB,QAAAA,OAAS,EAAAhB,WAAAA;OAAA,EAC3CM,gBACH,CAAA,CAAA;AAEJ,KAAA;AACO,IAAA,OAAA,IAAA,CAAA;AACT,GAAA;EACO,OAAA;AACLD,IAAAA,kBAAA,EAAAA,kBAAAA;GACF,CAAA;AACF;;;;"}