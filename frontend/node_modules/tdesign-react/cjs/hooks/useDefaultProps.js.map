{"version":3,"file":"useDefaultProps.js","sources":["../../../components/hooks/useDefaultProps.ts"],"sourcesContent":["import { useMemo } from 'react';\n\n// defaultProps 将于 19.0.0 废弃，故需实现 hook 在组件内部兼容\n// https://github.com/facebook/react/pull/16210\nexport default function useDefaultProps<T>(originalProps: T, defaultProps: Record<PropertyKey, any>): T {\n  return useMemo<T>(() => {\n    // eslint-disable-next-line\n    const props = Object.assign({}, originalProps);\n    Object.keys(defaultProps).forEach((key) => {\n      // https://github.com/facebook/react/blob/main/packages/react/src/jsx/ReactJSXElement.js#L733-L740\n      if (props[key] === undefined) {\n        props[key] = defaultProps[key];\n      }\n    });\n    return props;\n  }, [originalProps, defaultProps]);\n}\n"],"names":["useDefaultProps","originalProps","defaultProps","useMemo","props","Object","assign","keys","forEach","key"],"mappings":";;;;;;;;;;;;AAIwB,SAAAA,eAAAA,CAAmBC,eAAkBC,YAA2C,EAAA;EACtG,OAAOC,cAAW,YAAM;IAEtB,IAAMC,KAAQ,GAAAC,MAAA,CAAOC,MAAO,CAAA,IAAIL,aAAa,CAAA,CAAA;IAC7CI,MAAA,CAAOE,IAAK,CAAAL,YAAY,CAAE,CAAAM,OAAA,CAAQ,UAACC,GAAQ,EAAA;AAErC,MAAA,IAAAL,KAAA,CAAMK,SAAS,KAAW,CAAA,EAAA;AAC5BL,QAAAA,KAAA,CAAMK,OAAOP,YAAa,CAAAO,GAAA,CAAA,CAAA;AAC5B,OAAA;AACF,KAAC,CAAA,CAAA;AACM,IAAA,OAAAL,KAAA,CAAA;AACT,GAAG,EAAA,CAACH,aAAe,EAAAC,YAAY,CAAC,CAAA,CAAA;AAClC;;;;"}