{"version":3,"file":"number.js","sources":["../../../components/_util/number.ts"],"sourcesContent":["/**\n ** 加法函数，用来得到精确的加法结果\n ** 说明：javascript 的加法结果会有误差，在两个浮点数相加的时候会比较明显。这个函数返回较为精确的加法结果。\n ** 调用：accAdd(num1,num2)\n ** 返回值：num1 加上num2 的精确结果\n * */\nexport function accAdd(num1: number, num2: number) {\n  const isFloat = (n: number) => typeof n === 'number' && !Number.isInteger(n);\n\n  if (isFloat(num1) && isFloat(num2)) {\n    const [integer1, precision1] = String(num1).split('.');\n    const [integer2, precision2] = String(num2).split('.');\n\n    // 获取两个浮点数的最长精度\n    const maxPrecisionLen = Math.max(precision1.length, precision2.length);\n    // 对齐小数部分的精度长度\n    const wholePrecision1 = Number(precision1.padEnd(maxPrecisionLen, '0'));\n    const wholePrecision2 = Number(precision2.padEnd(maxPrecisionLen, '0'));\n\n    // 小数部分转化成整数相加之后除以精度最长的 10 的倍数\n    const precisionVal = (wholePrecision1 + wholePrecision2) / 10 ** maxPrecisionLen;\n    const integerVal = Number(integer1) + Number(integer2);\n\n    return integerVal + precisionVal;\n  }\n\n  return num1 + num2;\n}\n"],"names":["accAdd","num1","num2","isFloat","n","Number","isInteger","_String$split","String","split","_String$split2","_slicedToArray","integer1","precision1","_String$split3","_String$split4","integer2","precision2","maxPrecisionLen","Math","max","length","wholePrecision1","padEnd","wholePrecision2","precisionVal","pow","integerVal"],"mappings":";;;;;;;;;;;;;AAMgB,SAAAA,MAAAA,CAAOC,MAAcC,IAAc,EAAA;AAC3C,EAAA,IAAAC,OAAA,GAAU,SAAVA,OAAAA,CAAWC,CAAc,EAAA;IAAA,OAAA,OAAOA,MAAM,QAAY,IAAA,CAACC,MAAO,CAAAC,SAAA,CAAUF,CAAC,CAAA,CAAA;AAAA,GAAA,CAAA;EAE3E,IAAID,OAAQ,CAAAF,IAAI,CAAK,IAAAE,OAAA,CAAQD,IAAI,CAAG,EAAA;IAC5B,IAAAK,aAAA,GAAyBC,OAAOP,IAAI,CAAA,CAAEQ,MAAM,GAAG,CAAA;MAAAC,cAAA,GAAAC,4BAAA,CAAAJ,aAAA,EAAA,CAAA,CAAA;AAA9CK,MAAAA;AAAUC,MAAAA,UAAU,GAAAH,cAAA,CAAA,CAAA,CAAA,CAAA;IACrB,IAAAI,cAAA,GAAyBN,OAAON,IAAI,CAAA,CAAEO,MAAM,GAAG,CAAA;MAAAM,cAAA,GAAAJ,4BAAA,CAAAG,cAAA,EAAA,CAAA,CAAA;AAA9CE,MAAAA;AAAUC,MAAAA,UAAU,GAAAF,cAAA,CAAA,CAAA,CAAA,CAAA;AAG3B,IAAA,IAAMG,kBAAkBC,IAAK,CAAAC,GAAA,CAAIP,UAAW,CAAAQ,MAAA,EAAQJ,WAAWI,MAAM,CAAA,CAAA;AAErE,IAAA,IAAMC,kBAAkBjB,MAAO,CAAAQ,UAAA,CAAWU,MAAO,CAAAL,eAAA,EAAiB,GAAG,CAAC,CAAA,CAAA;AACtE,IAAA,IAAMM,kBAAkBnB,MAAO,CAAAY,UAAA,CAAWM,MAAO,CAAAL,eAAA,EAAiB,GAAG,CAAC,CAAA,CAAA;AAGhE,IAAA,IAAAO,YAAA,GAAA,CAAgBH,eAAkB,GAAAE,eAAA,IAAAL,IAAA,CAAAO,GAAA,CAAmB,EAAM,EAAAR,eAAA,CAAA,CAAA;IACjE,IAAMS,UAAa,GAAAtB,MAAA,CAAOO,QAAQ,CAAA,GAAIP,OAAOW,QAAQ,CAAA,CAAA;IAErD,OAAOW,UAAa,GAAAF,YAAA,CAAA;AACtB,GAAA;EAEA,OAAOxB,IAAO,GAAAC,IAAA,CAAA;AAChB;;;;"}