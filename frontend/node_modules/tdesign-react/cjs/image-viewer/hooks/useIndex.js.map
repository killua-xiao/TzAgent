{"version":3,"file":"useIndex.js","sources":["../../../../components/image-viewer/hooks/useIndex.ts"],"sourcesContent":["import { useCallback } from 'react';\nimport useControlled from '../../hooks/useControlled';\n\n/** ImageViewerModal hooks * */\n// 选中下标控制\nconst useIndex = (resProps, images) => {\n  const [index, setIndex] = useControlled(resProps, 'index', resProps.onIndexChange);\n\n  const next = useCallback(() => {\n    const newIndex = index + 1;\n    if (newIndex >= images.length) return index;\n    setIndex(newIndex, { trigger: 'next' });\n  }, [setIndex, index, images.length]);\n\n  const prev = useCallback(() => {\n    const newIndex = index - 1 > 0 ? index - 1 : 0;\n    setIndex(newIndex, { trigger: 'prev' });\n  }, [index, setIndex]);\n\n  return {\n    index,\n    next,\n    prev,\n    setIndex,\n  };\n};\n\nexport default useIndex;\n"],"names":["useIndex","resProps","images","_useControlled","useControlled","onIndexChange","_useControlled2","_slicedToArray","index","setIndex","next","useCallback","newIndex","length","trigger","prev"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAKMA,IAAAA,QAAA,GAAW,SAAXA,QAAAA,CAAYC,QAAA,EAAUC,MAAW,EAAA;EAC/B,IAAAC,cAAA,GAAoBC,+BAAcH,QAAU,EAAA,OAAA,EAASA,SAASI,aAAa,CAAA;IAAAC,eAAA,GAAAC,4BAAA,CAAAJ,cAAA,EAAA,CAAA,CAAA;AAA1EK,IAAAA;AAAOC,IAAAA,QAAQ,GAAAH,eAAA,CAAA,CAAA,CAAA,CAAA;AAEhB,EAAA,IAAAI,IAAA,GAAOC,kBAAY,YAAM;AAC7B,IAAA,IAAMC,WAAWJ,KAAQ,GAAA,CAAA,CAAA;AACzB,IAAA,IAAII,YAAYV,MAAO,CAAAW,MAAA,EAAe,OAAAL,KAAA,CAAA;IACtCC,QAAA,CAASG,QAAU,EAAA;AAAEE,MAAAA,OAAS,EAAA,MAAA;AAAO,KAAC,CAAA,CAAA;KACrC,CAACL,QAAA,EAAUD,KAAO,EAAAN,MAAA,CAAOW,MAAM,CAAC,CAAA,CAAA;AAE7B,EAAA,IAAAE,IAAA,GAAOJ,kBAAY,YAAM;AAC7B,IAAA,IAAMC,QAAW,GAAAJ,KAAA,GAAQ,CAAI,GAAA,CAAA,GAAIA,QAAQ,CAAI,GAAA,CAAA,CAAA;IAC7CC,QAAA,CAASG,QAAU,EAAA;AAAEE,MAAAA,OAAS,EAAA,MAAA;AAAO,KAAC,CAAA,CAAA;AACxC,GAAG,EAAA,CAACN,KAAO,EAAAC,QAAQ,CAAC,CAAA,CAAA;EAEb,OAAA;AACLD,IAAAA,KAAA,EAAAA,KAAA;AACAE,IAAAA,IAAA,EAAAA,IAAA;AACAK,IAAAA,IAAA,EAAAA,IAAA;AACAN,IAAAA,QAAA,EAAAA,QAAAA;GACF,CAAA;AACF;;;;"}